<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.onestoit.mapper.CustomerMapper">
	<!-- 新規顧客情報保存 -->
	<insert id="save">
		INSERT INTO onestoit_customer (
			username,
			name,
			password,
			tel,
			email,
			zipcode,
			addr1,
			addr2,
			addr3,
			addr4
		) VALUES (
			#{username},
			#{name},
			#{password},
			#{tel},
			#{email},
			#{zipcode},
			#{addr1},
			#{addr2},
			#{addr3},
			#{addr4}
		);
	</insert>
	
	<!-- 新規顧客のユーザ名名既にあるかどうかを調べる -->
	<select id="alreadyExists">
		select count(*) from onestoit_customer where username = #{username}
	</select>
</mapper>