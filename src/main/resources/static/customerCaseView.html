<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- TODO: ページの名にチェンジする -->
    <title>登録案件閲覧画面</title>
    <link href="https://fonts.googleapis.com/earlyaccess/nicomoji.css" rel="stylesheet">
    <!-- vue と elementUIの依存css -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">

    <!-- システム共用のスタイルはこのファイルに追加する -->
    <link href="./css/common.css" rel="stylesheet" />
    <link rel="stylesheet" href="./css/jobCase.css">
    <!-- TODO: 作るHTMLとペアでCSSファイルを作り、なるべく同じファイル名にする -->
	<link rel="stylesheet" href="./css/customerCaseView.css">
    <!-- vue と elementUIの依存javascript -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.16/dist/vue.js"></script>
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
    <script src="https://unpkg.com/element-ui/lib/umd/locale/ja.js"></script>

</head>

<body>
    <el-container id="app">
        <!-- ヘッドの部分 各々の画面は同じです -->
        <header class="common-header">
            <div class="logo">
                ブリッジ
            </div>
            <div class="login-info">
                <el-badge :value="user.noticeCount" class="item">
                    <el-avatar size="medium" :src="user.avatarUrl"></el-avatar>
                </el-badge>
                {{user.username}}さん、こんにちは！
            </div>
        </header>

        <!-- メインの部分 -->
        <el-container class="common-mian job-case-main">
            <!-- サイドメニュー -->
            <el-aside width="200px">
                <!-- TODO: default-active は今いるのメニューです -->
                <el-menu default-active="1" class="el-menu-vertical-demo">
                    <el-menu-item index="1">menu1</el-menu-item>
                    <el-menu-item index="2">menu2</el-menu-item>
                </el-menu>
            </el-aside>

            <el-container>
                <el-main>
                    <!-- TODO: 内容はここに書く -->
                    
                    
                    <!-- 登録案件リスト -->
	                <section>
	                    <div class="common-caption">
	                        <i class="el-icon-files icon"></i>
	                        登録案件リスト
	                    </div>
	                    <div class="job-case-item" v-for="job in jobList">
	                        <div class="case-name-line">
								<!--求人プロジェクト名・開発期限-->
	                            <div class="case-name">{{job.caseName}}</div>
	                            <div>
	                                <span>開発期限:</span>
	                                <span>{{job.deadline == "2099年12月31日" ? "なし" : job.deadline}}</span>
	                            </div>
	                        </div>
	                        <div class="case-sub">
								<!--仕事予定期間-->
	                            <div class="case-sub-day">
	                                <span class="label">予定期間:&nbsp;&nbsp;&nbsp;</span>
	                                <span>{{job.workDays}}日</span>
	                            </div>
	                            <!--報酬・相談可否-->
	                            <div class="case-sub-money">
	                                <span class="label">報酬:&nbsp;&nbsp;&nbsp;</span>
	                                <span>{{job.bonusMoney.toLocaleString()}}万円</span>
	                                <span>{{job.bonusMoneyNegotiable ? "(相談可能)" : ""}}</span>
	                            </div>
	                        </div>
	                        <!--募集人数-->
	                        <div class="case-sub">
	                            <span class="label">募集人数:&nbsp;&nbsp;&nbsp;</span>
	                            <span>{{job.number}}人</span>
	                        </div>
	                        <!--必須技術条件-->
	                        <div class="case-sub">
	                            <span class="label">希望開発言語:&nbsp;&nbsp;&nbsp;</span>
	                            <span>{{job.requiredTech}}</span>
	                        </div>
	                        <!--プラス技術条件-->
	                        <div class="case-sub">
	                            <span class="label">プラス技術条件:&nbsp;&nbsp;&nbsp;</span>
	                            <span>{{job.pulsTech ?  job.pulsTech: "指定なし"}}</span>
	                        </div>
	                        <!--求人説明-->
	                        <div class="case-sub">
	                            <span class="label">説明:&nbsp;&nbsp;&nbsp;</span>
	                            <span>{{job.description}}</span>
	                        </div>    
	                        
	                        <div class="go-detail">
	                            詳細>>
	                        </div>     
	                        
	                        <!-- 応募者リスト -->
					        <div class="applicants-list">
					            <div class="common-caption">
					                <i class="el-icon-user icon"></i>
					                応募者リスト
					            </div>
					            <!--応募人数-->
					            <div v-bind:class="((job.applicant || []).length == 0) ? 'hidden' : ''" >
									<span class="applicantLength">
										{{(job.applicant || []).length}}
									</span>	
									人が応募しています
								</div>
					            <div v-if="(job.applicant || []).length > 0">
					                <!-- 応募者がいる場合 -->
					                <div v-for="applicant in job.applicant" class="applicant-item">
					                    <div class="applicant-info">	
										<el-row>
											<el-col>
											    <el-card shadow="hover">
											    	<div class="applicant-user">
														<!--名前-->
														<div class=name>{{applicant.aName}}</div>
														<!--性別-->
														<span class=label>性別:&nbsp;&nbsp;&nbsp;<span>{{applicant.aGender}}</span></span>
														<!--年齢-->
														<span class=label>年齢:&nbsp;&nbsp;&nbsp;<span>{{applicant.aAge}}歳</span></span>
														<!--勤続年数-->
														<span class=label>勤続年数:&nbsp;&nbsp;&nbsp;<span>{{applicant.aLength}}年</span></span>
													</div>
											    </el-card>
											</el-col>
										</el-row>
					                        
					                    </div>
					                </div>
					                
					                
					                
					                
					            </div>
					            <div v-else>
					                <!-- 応募者がいない場合 -->
					                <div class="no-applicants">現在の応募者はいません。</div>
				            	</div>
					        </div>
	                        
	                    </div>
	                </section>
                    
                </el-main>
            </el-container>
        </el-container>
    </el-container>

</body>

</html>
<script>
    // elementの日本語対応
    ELEMENT.locale(ELEMENT.lang.ja);

    let vm;
    vm = new Vue({
        // id はapp の属性の中の部分を管理する
        el: "#app",
        data() {
            return {
                // ログインしたユーザー情報
                user: {
                    avatarUrl: "https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png", //アバター画像
                    username: "鈴木　奈々", // ユーザー名
                    noticeCount: 2, // 通知数
                },
                // 登録した求人票のデータ
                jobList: [{
                    caseName: "学生管理システムの制作",         // 求人プロジェクト名
                    requiredTech: "HTML CSS",               //　必須技術条件
                    pulsTech: "Javascript Java",            //　プラス技術条件
                    number: 3,                              //　募集人数
                    workDays: 15,                           //　仕事予定期間
                    bonusMoney: 5,                    //　報酬
                    bonusMoneyNegotiable: true,             //　報酬相談可能
                    description: "学生の個人情報を管理して、保護者との連絡.............",   // 求人の説明
                    deadline: "2024年2月20日",                // 開発期限
                    
                    applicant: [
	                    {aName: "山田　一",aGender:"男",aAge:"28",aLength:"4"},//名前、性別、年齢、勤続年数
	                    {aName: "鈴木　二花",aGender:"女",aAge:"24",aLength:"3"},//名前、性別、年齢、勤続年数}
                	],
                }, {
                    caseName: "従業員管理システムの制作",       // 求人プロジェクト名
                    requiredTech: "HTML CSS",               //　必須技術条件
                    pulsTech: "",            //　プラス技術条件
                    number: 3,                              //　募集人数
                    workDays: 15,                           //　仕事予定期間
                    bonusMoney: 7.5,                    //　報酬
                    bonusMoneyNegotiable: false,             //　報酬相談可能                                               
                    description: "学生の個人情報を管理して、保護者との連絡.............",   // 求人の説明
                    deadline: "2099年12月31日",
                    applicant: [
	                    {aName: "中島　三太",aGender:"男",aAge:"34",aLength:"8"},//名前、性別、年齢、勤続年数},
	                    {aName: "三須　四葉",aGender:"男",aAge:"29",aLength:"3"},//名前、性別、年齢、勤続年数},
	                    {aName: "土屋　五郎",aGender:"男",aAge:"45",aLength:"11"},//名前、性別、年齢、勤続年数}
                	],
                }, {
                    caseName: "学生管理システムの制作",         // 求人プロジェクト名
                    requiredTech: "HTML CSS",               //　必須技術条件
                    pulsTech: "Javascript Java",            //　プラス技術条件
                    number: 3,                              //　募集人数
                    workDays: 15,                           //　仕事予定期間
                    bonusMoney: 5,                    //　報酬
                    bonusMoneyNegotiable: true,             //　報酬相談可能
                    description: "学生の個人情報を管理して、保護者との連絡.............",   // 求人の説明
                    deadline: "2024年2月20日"                // 開発期限
                }]
            };
        },
    });
</script>